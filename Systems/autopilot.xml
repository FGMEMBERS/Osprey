<?xml version="1.0"?>

<PropertyList>

    <!-- ================================================================== -->
    <!-- Roll Axis Modes                                                    -->
    <!-- ================================================================== -->

    <filter>
        <name>A/P Wing Leveler</name>
        <type>gain</type>
        <gain>1.0</gain>
        <enable>
            <condition>
                <and>
                    <equals>
                        <property>/autopilot/locks/heading</property>
                        <value>wing-leveler</value>
                    </equals>
                    <property>/controls/flight/fbw/active/in-air</property>
                </and>
            </condition>
        </enable>
        <input>
            <value>0.0</value>
        </input>
        <output>
            <property>/controls/flight/fbw/target/roll-deg</property>
        </output>
    </filter>

    <!-- Enable FBW Roll Hold if A/P Wing Leveler is enabled -->
    <logic>
        <name>A/P Wing Leveler Dependency FBW Roll Hold</name>
        <input>
            <equals>
                <property>/autopilot/locks/heading</property>
                <value>wing-leveler</value>
            </equals>
        </input>
        <output>
            <property>/controls/flight/fbw/active/roll-hold</property>
        </output>
    </logic>

    <!-- ================================================================== -->
    <!-- Pitch Axis Modes                                                   -->
    <!-- ================================================================== -->

    <filter>
        <name>A/P Pitch Hold</name>
        <type>gain</type>
        <gain>1.0</gain>
        <enable>
            <condition>
                <equals>
                    <property>/autopilot/locks/altitude</property>
                    <value>pitch-hold</value>
                </equals>
            </condition>
        </enable>
        <input>
            <property>/autopilot/settings/target-pitch-deg</property>
        </input>
        <output>
            <property>/controls/flight/fbw/target/pitch-deg</property>
        </output>
    </filter>

    <!-- Enable FBW Pitch Hold if A/P Pitch Hold is enabled -->
    <logic>
        <name>A/P Pitch Hold Dependency FBW Pitch Hold</name>
        <input>
            <equals>
                <property>/autopilot/locks/altitude</property>
                <value>pitch-hold</value>
            </equals>
        </input>
        <output>
            <property>/controls/flight/fbw/active/pitch-hold</property>
        </output>
    </logic>

</PropertyList>
